# Apache ржУрзЯрзЗржм рж╕рж╛рж░рзНржнрж╛рж░ ржУ ржУрзЯрзЗржм рж╣рзЛрж╕рзНржЯрж┐ржВ ржмрзЗрж╕рж┐ржХ

Apache рж╣рж▓рзЛ ржмрж┐рж╢рзНржмрзЗрж░ рж╕ржмржЪрзЗрзЯрзЗ ржЬржиржкрзНрж░рж┐рзЯ ржУрзЯрзЗржм рж╕рж╛рж░рзНржнрж╛рж░ржЧрзБрж▓рзЛрж░ ржПржХржЯрж┐ред ржПржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржУрзЯрзЗржм ржкрзЗржЬ ржкрж╛ржарж╛рзЯ ржПржмржВ PHP ржУ MySQL-ржПрж░ рж╕рж╛ржерзЗ ржХрж╛ржЬ ржХрж░рзЗ ржбрж╛ржЗржирж╛ржорж┐ржХ ржУрзЯрзЗржмрж╕рж╛ржЗржЯ ржЪрж╛рж▓рж╛рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред ржПржЗ ржЧрж╛ржЗржбрзЗ ржЖржкржирж┐ рж╢рж┐ржЦржмрзЗржи Apache ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ ржПржмржВ ржХрзАржнрж╛ржмрзЗ Ubuntu рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржПржЯрж┐ ржжрж┐рзЯрзЗ ржУрзЯрзЗржмрж╕рж╛ржЗржЯ рж╣рзЛрж╕рзНржЯ ржХрж░рж╛ ржпрж╛рзЯред

---

## ЁЯза рзз. Apache ржХрзА?

Apache HTTP Server ржПржХржЯрж┐ ржУржкрзЗржи-рж╕рзЛрж░рзНрж╕ ржУрзЯрзЗржм рж╕рж╛рж░рзНржнрж╛рж░ рж╕ржлржЯржУрзЯрзНржпрж╛рж░, ржпрж╛ тАФ

- ржмрзНрж░рж╛ржЙржЬрж╛рж░ (client) ржерзЗржХрзЗ ржЖрж╕рж╛ HTTP ржЕржирзБрж░рзЛржз (request) ржЧрзНрж░рж╣ржг ржХрж░рзЗ  
- ржЕржирзБрж░рзЛржз ржЕржирзБржпрж╛рзЯрзА рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХ (HTML, CSS, JS) ржмрж╛ ржбрж╛ржЗржирж╛ржорж┐ржХ (PHP) ржХржиржЯрзЗржирзНржЯ рж╕рж░ржмрж░рж╛рж╣ ржХрж░рзЗ  
- ржмрж┐ржнрж┐ржирзНржи ржоржбрж┐ржЙрж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржлрж┐ржЪрж╛рж░ ржмрж╛рзЬрж╛ржирзЛ ржпрж╛рзЯ (ржпрзЗржоржи PHP module)  
- ржПржХржЗ рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржПржХрж╛ржзрж┐ржХ ржУрзЯрзЗржмрж╕рж╛ржЗржЯ рж╣рзЛрж╕рзНржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЗ (Virtual Hosts ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ)

---

## тЪЩя╕П рзи. Ubuntu рждрзЗ Apache ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛

ржкрзНрж░ржержорзЗ ржкрзНржпрж╛ржХрзЗржЬржЧрзБрж▓рзЛ ржЖржкржбрзЗржЯ ржХрж░рзБржи:

```bash
sudo apt update
sudo apt upgrade -y
```

ржПрж░ржкрж░ Apache ржЗржирж╕рзНржЯрж▓ ржХрж░рзБржи:

```bash
sudo apt install apache2 -y
```

Apache рж╕рж╛рж░рзНржнрж┐рж╕ ржЪрж╛рж▓рзБ ржУ ржПржирзЗржмрж▓ ржХрж░рзБржи:

```bash
sudo systemctl enable apache2
sudo systemctl start apache2
```

Apache ржПрж░ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржЪрзЗржХ ржХрж░рждрзЗ:

```bash
sudo systemctl status apache2
```

---

## ЁЯМР рзй. Apache ржЯрзЗрж╕рзНржЯ ржХрж░рж╛

рзз. ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржЖржкржирж╛рж░ рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ IP рж▓рж┐ржЦрзБржи:

```
http://your-server-ip
```

рзи. тАЬApache2 Ubuntu Default PageтАЭ ржжрзЗржЦрждрзЗ ржкрзЗрж▓рзЗ ржмрзБржЭржмрзЗржи рж╕рж╛рж░рзНржнрж╛рж░ рж╕ржарж┐ржХржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░ржЫрзЗ тЬЕ

---

## ЁЯУВ рзк. Apache ржбрж┐рж░рзЗржХрзНржЯрж░рж┐ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░

| ржбрж┐рж░рзЗржХрзНржЯрж░рж┐ | ржХрж╛ржЬ |
|------------|------|
| `/var/www/html` | ржбрж┐ржлрж▓рзНржЯ ржУрзЯрзЗржм ржлрж╛ржЗрж▓рзЗрж░ ржЬрж╛рзЯржЧрж╛ |
| `/etc/apache2` | ржорзВрж▓ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржлрзЛрж▓рзНржбрж╛рж░ |
| `/etc/apache2/sites-available` | рж╕ржм Virtual Host ржлрж╛ржЗрж▓ рж░рж╛ржЦрж╛ рж╣рзЯ |
| `/etc/apache2/sites-enabled` | рж╕ржХрзНрж░рж┐рзЯ Virtual Host рж▓рж┐ржЩрзНржХ |
| `/var/log/apache2` | Apache рж▓ржЧ ржлрж╛ржЗрж▓ (error, access) |

---

## ЁЯФз рзл. Apache ржорзНржпрж╛ржирзЗржЬ ржХрж░рж╛рж░ ржХржорж╛ржирзНржб

```bash
sudo systemctl start apache2      # Apache ржЪрж╛рж▓рзБ ржХрж░рж╛
sudo systemctl stop apache2       # Apache ржмржирзНржз ржХрж░рж╛
sudo systemctl restart apache2    # Apache рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯ ржХрж░рж╛
sudo systemctl reload apache2     # ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи рж░рж┐рж▓рзЛржб ржХрж░рж╛ (ржЪрж╛рж▓рзБ ржерж╛ржХрж╛ ржЕржмрж╕рзНржерж╛рзЯ)
sudo systemctl status apache2     # рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржжрзЗржЦрж╛
```

---

## ЁЯМН рзм. Virtual Host рж╕рзЗржЯржЖржк ржХрж░рж╛

Virtual Host ржжрж┐рзЯрзЗ ржПржХржЗ рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржПржХрж╛ржзрж┐ржХ ржУрзЯрзЗржмрж╕рж╛ржЗржЯ ржЪрж╛рж▓рж╛ржирзЛ ржпрж╛рзЯред

### ржЙржжрж╛рж╣рж░ржг:

ржПржХржЯрж┐ ржХржиржлрж┐ржЧ ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзБржи:

```bash
sudo nano /etc/apache2/sites-available/mywebsite.conf
```

ржПрж░ ржоржзрзНржпрзЗ рж▓рж┐ржЦрзБржи:

```apache
<VirtualHost *:80>
    ServerName example.com
    ServerAlias www.example.com
    DocumentRoot /var/www/mywebsite
    <Directory /var/www/mywebsite>
        AllowOverride All
        Require all granted
    </Directory>
    ErrorLog ${APACHE_LOG_DIR}/mywebsite_error.log
    CustomLog ${APACHE_LOG_DIR}/mywebsite_access.log combined
</VirtualHost>
```

рждрж╛рж░ржкрж░ рж╕рж╛ржЗржЯржЯрж┐ ржПржирзЗржмрж▓ ржХрж░рзЗ Apache рж░рж┐рж▓рзЛржб ржХрж░рзБржи:

```bash
sudo a2ensite mywebsite.conf
sudo systemctl reload apache2
```

---

## ЁЯФР рзн. ржУрзЯрзЗржм ржлрж╛ржЗрж▓рзЗрж░ ржкрж╛рж░ржорж┐рж╢ржи ржарж┐ржХ ржХрж░рж╛

Apache ржпрзЗржи ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рждрзЗ ржкрж╛рж░рзЗ рждрж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи:

```bash
sudo chown -R www-data:www-data /var/www/html
sudo chmod -R 755 /var/www/html
```

- `www-data` тЖТ Apache ржПрж░ ржЗржЙржЬрж╛рж░  
- `755` тЖТ ржбрж┐рж░рзЗржХрзНржЯрж░рж┐ рж░рж┐ржб/ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯрзЗржмрж▓, ржУржирж╛рж░ рж░рж╛ржЗржЯрзЗржмрж▓

---

## ЁЯзй рзо. .htaccess ржПржмржВ Rewrite Module ржПржирзЗржмрж▓ ржХрж░рж╛

Laravel ржмрж╛ ржЕржирзНржп ржбрж╛ржЗржирж╛ржорж┐ржХ рж╕рж╛ржЗржЯрзЗрж░ ржЬржирзНржп ржПржЯрж┐ ржжрж░ржХрж╛рж░ рж╣рзЯ:

```bash
sudo a2enmod rewrite
sudo systemctl restart apache2
```

ржПрж░ржкрж░ ржЖржкржирж╛рж░ ржкрзНрж░ржЬрзЗржХрзНржЯ ржлрзЛрж▓рзНржбрж╛рж░рзЗ `.htaccess` ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзЗ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ, ржХрзНржпрж╛рж╢ ржмрж╛ рж╕рж┐ржХрж┐ржЙрж░рж┐ржЯрж┐ рж░рзБрж▓ рж╕рзЗржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

---

## ЁЯз╛ рзп. рж▓ржЧ ржжрзЗржЦрж╛ ржУ рж╕ржорж╕рзНржпрж╛ рж╕ржорж╛ржзрж╛ржи

Apache рж▓ржЧ ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛ рж╕ржорж╕рзНржпрж╛ ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рждрзЗ ржЦрзБржм ржжрж░ржХрж╛рж░рж┐:

- Access log: `/var/log/apache2/access.log`  
- Error log: `/var/log/apache2/error.log`

рж▓ржЧ рж▓рж╛ржЗржн ржжрзЗржЦрждрзЗ:

```bash
tail -f /var/log/apache2/error.log
```

---

## тЬЕ рззрзж. рж╕рж╛рж░рж╛ржВрж╢

Apache рж╣рж▓рзЛ ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржПржмржВ рж╕рж╣ржЬрзЗ ржХржиржлрж┐ржЧрж╛рж░ржпрзЛржЧрзНржп ржУрзЯрзЗржм рж╕рж╛рж░рзНржнрж╛рж░ред ржЖржкржирж┐ ржпржжрж┐ ржирж┐ржЪрзЗрж░ ржмрж┐рж╖рзЯржЧрзБрж▓рзЛ ржмрзБржЭрзЗ ржлрзЗрж▓рзЗржи тАФ

- Apache ржЗржирж╕рзНржЯрж▓ ржУ ржорзНржпрж╛ржирзЗржЬ ржХрж░рж╛  
- ржлрж╛ржЗрж▓ ржкрж╛рж░ржорж┐рж╢ржи ржУ ржбрж┐рж░рзЗржХрзНржЯрж░рж┐ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░  
- Virtual Host ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи  
- рж▓ржЧ ржжрзЗржЦрж╛ ржУ рж╕ржорж╕рзНржпрж╛ рж╕ржорж╛ржзрж╛ржи  

рждрж╛рж╣рж▓рзЗ ржЖржкржирж┐ рж╕рж╣ржЬрзЗржЗ ржПржХ ржмрж╛ ржПржХрж╛ржзрж┐ржХ ржУрзЯрзЗржмрж╕рж╛ржЗржЯ ржУ PHP ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи Ubuntu рж╕рж╛рж░рзНржнрж╛рж░рзЗ рж╣рзЛрж╕рзНржЯ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржи ЁЯЪА