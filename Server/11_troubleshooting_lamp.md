# LAMP рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржмрзЗрж╕рж┐ржХ ржЯрзНрж░рж╛ржмрж▓рж╢рзБржЯрж┐ржВ ржПржмржВ рж╕рж╛ржзрж╛рж░ржг ржПрж░рж░рж╕ржорзВрж╣

LAMP рж╕рзЗржЯржЖржк ржПржмржВ ржкрзНрж░ржЬрзЗржХрзНржЯ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рж╛рж░ ржкрж░ржУ ржХржЦржирзЛ ржХржЦржирзЛ ржПрж░рж░ ржжрзЗржЦрж╛ ржжрж┐рждрзЗ ржкрж╛рж░рзЗред ржПржЗ ржЧрж╛ржЗржбрзЗ Ubuntu рж╕рж╛рж░рзНржнрж╛рж░рзЗ рж╕рж╛ржзрж╛рж░ржг рж╕ржорж╕рзНржпрж╛ ржПржмржВ рждрж╛ржжрзЗрж░ рж╕ржорж╛ржзрж╛ржи ржжрзЗржЦрж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗред

---

## тЪЩя╕П рзз. Apache ржПрж░рж░

### рж╕рж╛ржзрж╛рж░ржг рж╕ржорж╕рзНржпрж╛: 500 Internal Server Error

Apache ржПрж░рж░ рж▓ржЧ ржЪрзЗржХ ржХрж░рзБржи:

```bash
tail -f /var/log/apache2/error.log
```

* ржкрзНрж░рж╛ржпрж╝рж╢ржЗ ржПрж░ ржХрж╛рж░ржг: ржнрзБрж▓ **permissions** ржмрж╛ **.htaccess** ржирж┐ржпрж╝ржо  
* ржкрж╛рж░ржорж┐рж╢ржи ржарж┐ржХ ржХрж░рзБржи:

```bash
sudo chown -R www-data:www-data /var/www/html/myproject
sudo chmod -R 755 /var/www/html/myproject
```

* `.htaccess` рж╕ржарж┐ржХржнрж╛ржмрзЗ рж▓рзЗржЦрж╛ ржЖржЫрзЗ ржХрж┐ржирж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рзБржи

---

### рж╕рж╛ржзрж╛рж░ржг рж╕ржорж╕рзНржпрж╛: Apache рж╢рзБрж░рзБ рж╣ржЪрзНржЫрзЗ ржирж╛

рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржЪрзЗржХ ржХрж░рзБржи:

```bash
sudo systemctl status apache2
```

ржкрзЛрж░рзНржЯ ржХржиржлрзНрж▓рж┐ржХрзНржЯ ржЪрзЗржХ ржХрж░рзБржи:

```bash
sudo netstat -tulnp | grep :80
```

Apache рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯ ржХрж░рзБржи:

```bash
sudo systemctl restart apache2
```

---

## ЁЯТ╛ рзи. MySQL ржПрж░рж░

### ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ ржХрж╛ржирзЗржХрж╢ржи ржпрж╛ржпрж╝ ржирж╛

* `.env` ржмрж╛ `wp-config.php` ржП ржХрзНрж░рзЗржбрзЗржирж╢рж┐ржпрж╝рж╛рж▓ ржпрж╛ржЪрж╛ржЗ ржХрж░рзБржи  
* ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓рж┐ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рзБржи:

```bash
mysql -u myuser -p myapp
```

* MySQL рж╕рж╛рж░рзНржнрж┐рж╕ ржЪрж▓ржЫрзЗ ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рзБржи:

```bash
sudo systemctl status mysql
```

---

### ржПрж░рж░: тАЬAccess denied for userтАЭ

* ржЗржЙржЬрж╛рж░ржирзЗржо, ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржПржмржВ рж╣рзЛрж╕рзНржЯ (`localhost`) ржЪрзЗржХ ржХрж░рзБржи  
* ржкрзНрж░рж┐ржнрж┐рж▓рзЗржЬ ржкрзБржирж░рж╛ржпрж╝ ржжрж┐ржи:

```sql
GRANT ALL PRIVILEGES ON myapp.* TO 'myuser'@'localhost';
FLUSH PRIVILEGES;
```

---

## ЁЯУЭ рзй. PHP ржПрж░рж░

### Laravel ржмрж╛ PHP ржЕрзНржпрж╛ржкрзЗ 500 ржПрж░рж░

* Apache ржПрж░рж░ рж▓ржЧ ржЪрзЗржХ ржХрж░рзБржи:

```bash
tail -f /var/log/apache2/error.log
```

* PHP ржоржбрж┐ржЙрж▓ ржЪрзЗржХ ржХрж░рзБржи:

```bash
php -m
```

* рж╕рж╛ржзрж╛рж░ржг ржорж┐рж╕рж┐ржВ ржоржбрж┐ржЙрж▓:

```
php-mysql, php-curl, php-mbstring, php-xml, php-zip
```

ржорж┐рж╕рж┐ржВ ржоржбрж┐ржЙрж▓ ржЗржирж╕рзНржЯрж▓ ржХрж░рзБржи:

```bash
sudo apt install php-mysql php-curl php-mbstring php-xml php-zip -y
sudo systemctl restart apache2
```

---

### PHP рж╕рж┐ржиржЯрзНржпрж╛ржХрзНрж╕ ржПрж░рж░

ржлрж╛ржЗрж▓ ржпрж╛ржЪрж╛ржЗ ржХрж░рзБржи:

```bash
php -l filename.php
```

---

## ЁЯФР рзк. ржлрж╛ржЗрж▓ ржкрж╛рж░ржорж┐рж╢ржи рж╕ржорж╕рзНржпрж╛

* ржнрзБрж▓ ржкрж╛рж░ржорж┐рж╢ржирзЗрж░ ржХрж╛рж░ржгрзЗ ржУржпрж╝рзЗржм ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржмрзНржпрж░рзНрже рж╣рждрзЗ ржкрж╛рж░рзЗ  
* Apache ржЗржЙржЬрж╛рж░ржХрзЗ ржкрзНрж░ржЬрзЗржХрзНржЯ ржлрж╛ржЗрж▓рзЗрж░ ржорж╛рж▓рж┐ржХ ржХрж░рзБржи:

```bash
sudo chown -R www-data:www-data /var/www/html/myproject
sudo chmod -R 755 /var/www/html/myproject
```

* Laravel-ржП write access ржкрзНрж░ржпрж╝рзЛржЬржи ржПржоржи ржбрж┐рж░рзЗржХрзНржЯрж░рж┐:

```
storage, bootstrap/cache
```

---

## ЁЯЦз рзл. SSH ржУ ржХрж╛ржирзЗржХрж╢ржи ржПрж░рж░

### Timeout ржмрж╛ Refused

* рж╕рж╛рж░рзНржнрж╛рж░ IP ржПржмржВ ржлрж╛ржпрж╝рж╛рж░ржУржпрж╝рж╛рж▓ ржЪрзЗржХ ржХрж░рзБржи:

```bash
sudo ufw status
ping server_ip
```

* SSH рж╕рж╛рж░рзНржнрж┐рж╕ ржЪрж▓ржЫрзЗ ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рзБржи:

```bash
sudo systemctl status ssh
```

---

### Permission Denied (Key Issue)

* рж╕ржарж┐ржХ ржкрж╛рж░ржорж┐рж╢ржи ржжрж┐ржи:

```bash
chmod 400 botkey.pem
```

* рж╕ржарж┐ржХ ржЗржЙржЬрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи:

```bash
ssh -i botkey.pem ubuntu@server_ip
```

---

## ЁЯТб рзм. ржЯрзНрж░рж╛ржмрж▓рж╢рзБржЯрж┐ржВ ржЯрж┐ржкрж╕

1. **ржкрзНрж░ржержорзЗ рж▓ржЧ ржЪрзЗржХ ржХрж░рзБржи** (Apache, MySQL, PHP, рж╕рж┐рж╕рзНржЯрзЗржо)  
2. **ржХржорзНржкрзЛржирзЗржирзНржЯ ржЖрж▓рж╛ржжрж╛ржнрж╛ржмрзЗ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рзБржи** (PHP рж╕рзНржХрзНрж░рж┐ржкрзНржЯ, DB ржХрж╛ржирзЗржХрж╢ржи, Apache)  
3. **ржлрж╛ржпрж╝рж╛рж░ржУржпрж╝рж╛рж▓ ржПржмржВ ржкрзЛрж░рзНржЯ ржпрж╛ржЪрж╛ржЗ ржХрж░рзБржи**  
4. **ржкрж╛рж░ржорж┐рж╢ржи ржпрж╛ржЪрж╛ржЗ ржХрж░рзБржи**  
5. **ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ ржкрж░рзЗ рж╕рж╛рж░рзНржнрж┐рж╕ рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯ ржХрж░рзБржи**

---

## ЁЯУМ рзн. рж╕рж╛рж░рж╛ржВрж╢

ржЯрзНрж░рж╛ржмрж▓рж╢рзБржЯрж┐ржВ рж╣рж▓рзЛ рж╕рж╛рж░рзНржнрж╛рж░ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯрзЗрж░ ржПржХржЯрж┐ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржжржХрзНрж╖рждрж╛ред рж▓ржЧ ржкржбрж╝рж╛, рж╕рж╛рж░рзНржнрж┐рж╕ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛, ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржарж┐ржХ ржХрж░рж╛ ржПржмржВ ржкрж╛рж░ржорж┐рж╢ржи ржарж┐ржХ ржХрж░рж╛ рж╢рж┐ржЦрзЗ ржЖржкржирж┐ ржжрзНрж░рзБржд LAMP рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ рж╕ржорж╕рзНржпрж╛ рж╕ржорж╛ржзрж╛ржи ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржи ржПржмржВ ржЖржкржирж╛рж░ ржУржпрж╝рзЗржм ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рж╕рзНржерж┐рждрж┐рж╢рзАрж▓ ржУ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ржпрзЛржЧрзНржп ржерж╛ржХржмрзЗред