# Ubuntu рж╕рж╛рж░рзНржнрж╛рж░ рж╕рж┐ржХрж┐ржЙрж░рж┐ржЯрж┐ ржУ ржлрж╛ржпрж╝рж╛рж░ржУржпрж╝рж╛рж▓ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи

ржУржпрж╝рзЗржм ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рж╛рж░ ржЖржЧрзЗ рж╕рж╛рж░рзНржнрж╛рж░ рж╕рзБрж░ржХрзНрж╖рж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж╛ ржЦрзБржм ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред ржПржЗ ржЧрж╛ржЗржбрзЗ Ubuntu рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржмрзЗрж╕рж┐ржХ рж╕рж┐ржХрж┐ржЙрж░рж┐ржЯрж┐, SSH рж╕рж┐ржХрж┐ржЙрж░рзЗрж╢ржи ржПржмржВ ржлрж╛ржпрж╝рж╛рж░ржУржпрж╝рж╛рж▓ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржирж┐ржпрж╝рзЗ ржЖрж▓рзЛржЪржирж╛ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред

---

## ЁЯЫая╕П рзз. рж╕рж╛рж░рзНржнрж╛рж░ ржЖржкржбрзЗржЯ ржУ ржЖржкржЧрзНрж░рзЗржб

рж╕рж╛рж░рзНржнрж╛рж░ржХрзЗ рж╕рж░рзНржмржжрж╛ ржЖржкржбрзЗржЯ рж░рж╛ржЦрж╛ рж╣рж▓рзЗ ржирж┐рж░рж╛ржкрждрзНрждрж╛ ржЭрзБржБржХрж┐ ржХржорзЗ:

```bash
sudo apt update
sudo apt upgrade -y
sudo apt autoremove -y
```

- `apt update` тЖТ ржкрзНржпрж╛ржХрзЗржЬ рж▓рж┐рж╕рзНржЯ ржЖржкржбрзЗржЯ ржХрж░рзЗ  
- `apt upgrade` тЖТ ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛ ржкрзНржпрж╛ржХрзЗржЬ ржЖржкржЧрзНрж░рзЗржб ржХрж░рзЗ  
- `apt autoremove` тЖТ ржЕржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржкрзНржпрж╛ржХрзЗржЬ ржорзБржЫрзЗ ржлрзЗрж▓рзЗ  

> рж╕рж╛рж░рзНржнрж╛рж░ рж╕ржмрж╕ржоржпрж╝ ржЖржкржбрзЗржЯ рж░рж╛ржЦрж▓рзЗ рж╣рзНржпрж╛ржХрж╛рж░рж░рж╛ рж╕рж╣ржЬрзЗ ржПржХрзНрж╕ржкрзНрж▓ржпрж╝ ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржирж╛ред

---

## ЁЯСд рзи. ржирждрзБржи ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА рждрзИрж░рж┐ ржХрж░рж╛

ржжрж┐ржиржжрж┐ржи ржХрж╛ржЬрзЗрж░ ржЬржирзНржп `root` рж╕рж░рж╛рж╕рж░рж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржЙржЪрж┐ржд ржиржпрж╝ред ржПржХржЯрж┐ ржирждрзБржи ржЗржЙржЬрж╛рж░ рждрзИрж░рж┐ ржХрж░рзБржи:

```bash
sudo adduser rabiul
```

ржирждрзБржи ржЗржЙржЬрж╛рж░ржХрзЗ ржкрзНрж░рж╢рж╛рж╕ржирж┐ржХ (sudo) рж╕рзБржмрж┐ржзрж╛ ржжрж┐ржи:

```bash
sudo usermod -aG sudo rabiul
```

ржирждрзБржи ржЗржЙржЬрж╛рж░ ржжрж┐ржпрж╝рзЗ рж▓ржЧржЗржи ржЯрзЗрж╕рзНржЯ ржХрж░рзБржи:

```bash
ssh rabiul@your-server-ip
```

> ржирждрзБржи ржЗржЙржЬрж╛рж░ ржжрж┐ржпрж╝рзЗ ржХрж╛ржЬ ржХрж░рж▓рзЗ ржирж┐рж░рж╛ржкрждрзНрждрж╛ ржмрж╛ржбрж╝рзЗ, ржХрж╛рж░ржг `root` рж╕рж░рж╛рж╕рж░рж┐ ржмрзНржпржмрж╣рж╛рж░ рж╣ржпрж╝ ржирж╛ред

---

## ЁЯФС рзй. SSH ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи

### ржбрж┐ржлрж▓рзНржЯ SSH ржкрзЛрж░рзНржЯ ржкрж░рж┐ржмрж░рзНрждржи

SSH рж╕рзЗржЯрж┐ржВрж╕ ржЦрзБрж▓рзБржи:

```bash
sudo nano /etc/ssh/sshd_config
```

ржбрж┐ржлрж▓рзНржЯ ржкрзЛрж░рзНржЯ 22 ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзБржи, ржпрзЗржоржи:

```
Port 2222
```

SSH рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯ ржХрж░рзБржи:

```bash
sudo systemctl restart ssh
```

---

### Root рж▓ржЧржЗржи ржирж┐рж╖рж┐ржжрзНржз ржХрж░рж╛

`/etc/ssh/sshd_config` ржлрж╛ржЗрж▓рзЗ:

```
PermitRootLogin no
```

ржкрж░рзЗ SSH ржкрзБржирж░рж╛ржпрж╝ ржЪрж╛рж▓рзБ ржХрж░рзБржи:

```bash
sudo systemctl restart ssh
```

---

### ржХрзА-ржмрзЗрж╕ржб ржЕржерзЗржирзНржЯрж┐ржХрзЗрж╢ржи рж╕ржХрзНрж░рж┐ржпрж╝ ржХрж░рж╛

рззя╕ПтГг рж▓рзЛржХрж╛рж▓ ржорзЗрж╢рж┐ржирзЗ ржХрзА ржЬрзЗржирж╛рж░рзЗржЯ ржХрж░рзБржи:

```bash
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
```

рзия╕ПтГг ржкрж╛ржмрж▓рж┐ржХ ржХрзА рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржХржкрж┐ ржХрж░рзБржи:

```bash
ssh-copy-id -i ~/.ssh/id_rsa.pub rabiul@your-server-ip
```

рзйя╕ПтГг ржПржЦржи ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржЫрж╛ржбрж╝рж╛ рж▓ржЧржЗржи рж╕ржорзНржнржмред ржЕрждрж┐рж░рж┐ржХрзНржд ржирж┐рж░рж╛ржкрждрзНрждрж╛рж░ ржЬржирзНржп ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржЕржерзЗржирзНржЯрж┐ржХрзЗрж╢ржи ржмржирзНржз ржХрж░рзБржи:

```
PasswordAuthentication no
```

ржкрж░рзЗ SSH рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯ ржХрж░рзБржи:

```bash
sudo systemctl restart ssh
```

---

## ЁЯЫбя╕П рзк. UFW ржлрж╛ржпрж╝рж╛рж░ржУржпрж╝рж╛рж▓ рж╕рзЗржЯржЖржк

### UFW рж╕ржХрзНрж░рж┐ржпрж╝ ржХрж░рж╛

```bash
sudo ufw enable
```

### SSH ржЯрзНрж░рж╛ржлрж┐ржХ ржЕржирзБржорзЛржжржи

ржпржжрж┐ ржкрзЛрж░рзНржЯ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржерж╛ржХрзЗ:

```bash
sudo ufw allow 2222/tcp
```

ржбрж┐ржлрж▓рзНржЯ ржкрзЛрж░рзНржЯ 22 ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ:

```bash
sudo ufw allow 22/tcp
```

### ржУржпрж╝рзЗржм ржЯрзНрж░рж╛ржлрж┐ржХ ржЕржирзБржорзЛржжржи (HTTP/HTTPS)

```bash
sudo ufw allow in "Apache Full"
```

### ржлрж╛ржпрж╝рж╛рж░ржУржпрж╝рж╛рж▓ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржЪрзЗржХ

```bash
sudo ufw status
```

> UFW рж╕ржХрзНрж░рж┐ржпрж╝ ржХрж░рж▓рзЗ ржЕржЬрж╛ржирж╛ рж╕ржВржпрзЛржЧ ржмрзНрж▓ржХ рж╣ржпрж╝ ржПржмржВ рж╕рж╛рж░рзНржнрж╛рж░ ржирж┐рж░рж╛ржкржж ржерж╛ржХрзЗред

---

## тЪФя╕П рзл. Fail2Ban (ржРржЪрзНржЫрж┐ржХ ржХрж┐ржирзНрждрзБ рж╕рзБржкрж╛рж░рж┐рж╢ржХрзГржд)

Brute-force ржЖржХрзНрж░ржоржг ржерзЗржХрзЗ рж░ржХрзНрж╖рж╛ ржкрзЗрждрзЗ Fail2Ban ржЗржирж╕рзНржЯрж▓ ржХрж░рзБржи:

```bash
sudo apt install fail2ban -y
sudo systemctl enable fail2ban
sudo systemctl start fail2ban
```

рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржЪрзЗржХ ржХрж░рзБржи:

```bash
sudo fail2ban-client status
```

> Fail2Ban SSH рж▓рзЛржЧржЗржи ржЪрзЗрж╖рзНржЯрж╛ ржкрж░рзНржпржмрзЗржХрзНрж╖ржг ржХрж░рзЗ, ржЕрждрж┐-ржкрзНрж░ржпрж╝рж╛рж╕рзА ржЖржЗржкрж┐ ржмрзНрж▓ржХ ржХрж░рзЗред

---

## ЁЯТб рзм. ржЕрждрж┐рж░рж┐ржХрзНржд ржирж┐рж░рж╛ржкрждрзНрждрж╛ ржЯрж┐ржкрж╕

- ржЕржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ рж╕рж╛рж░рзНржнрж┐рж╕ ржмржирзНржз ржХрж░рзБржи:

```bash
sudo systemctl disable service_name
```

- рж╕ржлржЯржУржпрж╝рзНржпрж╛рж░ рж╕ржмрж╕ржоржпрж╝ ржЖржкржбрзЗржЯ рж░рж╛ржЦрзБржи:

```bash
sudo apt update && sudo apt upgrade -y
```

- рж▓ржЧ ржоржирж┐ржЯрж░ ржХрж░рзБржи ржирж┐ржпрж╝ржорж┐ржд:

```bash
tail -f /var/log/auth.log
tail -f /var/log/apache2/error.log
```

- рж╕ржм ржЗржЙржЬрж╛рж░ ржПржмржВ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗрж░ ржЬржирзНржп рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред  
- ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржлрж╛ржЗрж▓ ржирж┐ржпрж╝ржорж┐ржд ржмрзНржпрж╛ржХржЖржк рж░рж╛ржЦрзБржиред  

---

## ЁЯУЭ рзн. рж╕рж╛рж░рж╛ржВрж╢

ржПржЗ ржзрж╛ржкржЧрзБрж▓рзЛ ржЕржирзБрж╕рж░ржг ржХрж░рж▓рзЗ:

- ржЕржиржирзБржорзЛржжрж┐ржд ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕рзЗрж░ ржЭрзБржБржХрж┐ ржХржорзЗ  
- SSH ржХрж╛ржирзЗржХрж╢ржи ржирж┐рж░рж╛ржкржж рж╣ржпрж╝  
- ржУржпрж╝рзЗржм рж╕рж╛рж░рзНржнрж╛рж░ ржлрж╛ржпрж╝рж╛рж░ржУржпрж╝рж╛рж▓ ржжрж┐ржпрж╝рзЗ рж╕рзБрж░ржХрзНрж╖рж┐ржд ржерж╛ржХрзЗ  
- Fail2Ban ржмрзНрж░рзБржЯ-ржлрзЛрж░рзНрж╕ ржЖржХрзНрж░ржоржг ржкрзНрж░рждрж┐рж░рзЛржз ржХрж░рзЗ  

> ржПржХржЯрж┐ рж╕рж┐ржХрж┐ржЙрж░ рж╕рж╛рж░рзНржнрж╛рж░ ржЫрж╛ржбрж╝рж╛ рж▓рж╛ржЗржн ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рж╣рзЛрж╕рзНржЯ ржХрж░рж╛ ржЭрзБржБржХрж┐ржкрзВрж░рзНржгред ржПржЗ ржзрж╛ржкржЧрзБрж▓рзЛ ржЖржпрж╝рждрзНржд ржХрж░рж▓рзЗ ржЖржкржирж╛рж░ рж╕рж╛рж░рзНржнрж╛рж░ ржЕржирзЗржХ ржирж┐рж░рж╛ржкржж рж╣ржмрзЗред  